<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DARJO KU - Platform Wisata & Kuliner Sidoarjo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        *{
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .logo-glow {
            filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.5));
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .slide-in {
            animation: slideIn 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px) scale(1.02);
        }
        
        .shine-effect {
            position: relative;
            overflow: hidden;
        }
        
        .shine-effect::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(30deg);
            transition: all 0.6s;
            opacity: 0;
        }
        
        .shine-effect:hover::before {
            opacity: 1;
            left: 100%;
        }
        
        .delay-100 {
            animation-delay: 0.1s;
        }
        
        .delay-200 {
            animation-delay: 0.2s;
        }
        
        .delay-300 {
            animation-delay: 0.3s;
        }
        
        .delay-400 {
            animation-delay: 0.4s;
        }
        
        .delay-500 {
            animation-delay: 0.5s;
        }
        
        .destination-card {
            background-size: cover;
            background-position: center;
            height: 300px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .destination-overlay {
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            color: white;
        }
        
        .food-card {
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            background: white;
            cursor: pointer;
        }
        
        .food-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }
        
        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto 40px;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 100;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .search-result-item {
            padding: 12px 16px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .search-result-item:hover {
            background: #f5f5f5;
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .search-result-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            color: white;
        }
        
        .search-result-destination .search-result-icon {
            background: #3b82f6;
        }
        
        .search-result-food .search-result-icon {
            background: #ef4444;
        }
        
        .search-result-event .search-result-icon {
            background: #10b981;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 24px;
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        .modal-close:hover {
            color: #374151;
        }
        
        .filter-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border-radius: 20px;
            background: #f3f4f6;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: #3b82f6;
            color: white;
        }
        
        .filter-btn:hover {
            background: #e5e7eb;
        }
        
        .filter-btn.active:hover {
            background: #2563eb;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .logo-container {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
        }

        .user-avatars {
            display: flex;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid white;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50">
    <!-- Floating Background Blobs -->
    <div class="fixed inset-0 -z-10 overflow-hidden">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 float-animation"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 float-animation" style="animation-delay: 1.5s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 float-animation" style="animation-delay: 3s;"></div>
    </div>

    <!-- Navigation Bar -->
    <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-md py-4 px-6 shadow-md">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <!-- Logo & Brand -->
            <div class="flex items-center space-x-3">
                <div class="logo-glow">
                    <div class="logo-container">
                        <span class="text-white font-bold">DK</span>
                    </div>
                </div>
                <div class="text-2xl font-black">
                    <span class="text-black">DARJO</span>
                    <span class="bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent">KU</span>
                </div>
            </div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-6">
                <a href="#destinasi" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Destinasi</a>
                <a href="#kuliner" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Kuliner</a>
                <a href="#acara" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Acara</a>
                <a href="#tentang" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Tentang</a>
                <a href="#kontak" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Kontak</a>
                
                <!-- Search Bar -->
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Cari destinasi atau kuliner..." 
                           class="py-2 px-4 pr-10 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64">
                    <button id="search-btn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-600">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <a href="admin.html" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-full transition-colors shadow-md">
                    ADMIN
                </a>
            </div>
            
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-gray-700">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-200">
            <div class="flex flex-col space-y-4 mt-4">
                <a href="#destinasi" class="text-gray-700 hover:text-blue-600 font-medium">Destinasi</a>
                <a href="#kuliner" class="text-gray-700 hover:text-blue-600 font-medium">Kuliner</a>
                <a href="#acara" class="text-gray-700 hover:text-blue-600 font-medium">Acara</a>
                <a href="#tentang" class="text-gray-700 hover:text-blue-600 font-medium">Tentang</a>
                <a href="#kontak" class="text-gray-700 hover:text-blue-600 font-medium">Kontak</a>
                
                <!-- Mobile Search Bar -->
                <div class="relative mt-2">
                    <input type="text" id="mobile-search-input" placeholder="Cari destinasi atau kuliner..." 
                           class="py-2 px-4 pr-10 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full">
                    <button id="mobile-search-btn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-600">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <a href="admin.html" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full w-full transition-colors text-center">
                    ADMIN
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="py-16 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col lg:flex-row items-center">
                <!-- Left Content -->
                <div class="lg:w-1/2 mb-12 lg:mb-0">
                    <div class="slide-in delay-100">
                        <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full mb-4">
                            🚀 BETA VERSION - GRATIS SELAMANYA
                        </span>
                    </div>
                    
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 leading-tight mb-6 slide-in delay-200">
                        Jelajahi Keindahan <span class="text-blue-600">Sidoarjo</span>
                    </h1>
                    
                    <p class="text-lg md:text-xl text-gray-700 mb-8 slide-in delay-300">
                        Temukan destinasi wisata menarik dan kuliner khas Sidoarjo yang menggugah selera. Semua informasi lengkap ada di sini.
                    </p>
                    
                    <!-- Search Bar di Hero Section -->
                    <div class="search-container slide-in delay-400">
                        <div class="relative">
                            <input type="text" id="hero-search-input" placeholder="Cari destinasi wisata, kuliner, atau acara..." 
                                   class="py-4 px-6 pr-12 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full shadow-lg">
                            <button id="hero-search-btn" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full transition-colors">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        
                        <!-- Search Results -->
                        <div id="search-results" class="search-results">
                            <!-- Results akan diisi oleh JavaScript -->
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-6 slide-in delay-500">
                        <div class="flex items-center space-x-2">
                            <div class="user-avatars -space-x-2">

                            </div>

                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="flex text-yellow-400">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Content - Stats Card -->
                <div class="lg:w-1/2 flex justify-center">
                    <div class="bg-white p-6 rounded-2xl shadow-2xl transform rotate-2 hover:rotate-0 transition-transform duration-300 card-hover shine-effect max-w-md">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-xl text-center">
                                <div class="text-3xl font-black text-blue-700 mb-1" id="total-destinations">24+</div>
                                <div class="text-sm font-semibold text-blue-800">Destinasi Wisata</div>
                            </div>
                            <div class="bg-gradient-to-br from-indigo-100 to-indigo-200 p-4 rounded-xl text-center">
                                <div class="text-3xl font-black text-indigo-700 mb-1" id="total-foods">50+</div>
                                <div class="text-sm font-semibold text-indigo-800">Kuliner Khas</div>
                            </div>
                            <div class="bg-gradient-to-br from-amber-100 to-amber-200 p-4 rounded-xl text-center">
                                <div class="text-3xl font-black text-amber-700 mb-1" id="total-reviews">620+</div>
                                <div class="text-sm font-semibold text-amber-800">Ulasan</div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-xl text-center">
                                <div class="text-3xl font-black text-purple-700 mb-1" id="total-events">12+</div>
                                <div class="text-sm font-semibold text-purple-800">Acara</div>
                            </div>
                        </div>
                        <div class="mt-6 pt-4 border-t border-gray-200">
                            <p class="text-center text-gray-600 text-sm">
                                Data real-time dari komunitas DARJO KU
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Destinasi Wisata Section -->
    <section id="destinasi" class="py-16 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">
                    Destinasi Wisata Populer Sidoarjo
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Jelajahi tempat-tempat menarik di Sidoarjo yang wajib dikunjungi
                </p>
            </div>
            
            <!-- Filter Buttons -->
            <div class="filter-container mb-8">
                <button class="filter-btn active" data-filter="all">Semua</button>
                <button class="filter-btn" data-filter="wisata-alam">Wisata Alam</button>
                <button class="filter-btn" data-filter="wisata-sejarah">Wisata Sejarah</button>
                <button class="filter-btn" data-filter="wisata-keluarga">Wisata Keluarga</button>
            </div>
            
            <div id="destinations-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Destinations will be loaded here -->
                <div class="text-center py-8">
                    <div class="loading mx-auto mb-2"></div>
                    <p class="text-gray-500">Memuat destinasi...</p>
                </div>
            </div>
            
            <div class="text-center mt-10">
                <button id="load-more-destinations" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-8 rounded-full transition-colors shadow-md">
                    LIHAT SEMUA DESTINASI
                </button>
            </div>
        </div>
    </section>

    <!-- Kuliner Khas Section -->
    <section id="kuliner" class="py-16 px-6 bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">
                    Kuliner Khas Sidoarjo
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Nikmati kelezatan makanan dan minuman khas Sidoarjo yang terkenal
                </p>
            </div>
            
            <div id="foods-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Foods will be loaded here -->
                <div class="text-center py-8 col-span-full">
                    <div class="loading mx-auto mb-2"></div>
                    <p class="text-gray-500">Memuat kuliner...</p>
                </div>
            </div>
            
            <div class="text-center mt-10">
                <button id="load-more-foods" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-8 rounded-full transition-colors shadow-md">
                    LIHAT SEMUA KULINER
                </button>
            </div>
        </div>
    </section>

    <!-- Acara Section -->
    <section id="acara" class="py-16 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">
                    Acara & Event di Sidoarjo
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Jangan lewatkan acara dan festival menarik di Sidoarjo
                </p>
            </div>
            
            <div id="events-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Events will be loaded here -->
                <div class="text-center py-8 col-span-full">
                    <div class="loading mx-auto mb-2"></div>
                    <p class="text-gray-500">Memuat acara...</p>
                </div>
            </div>
            
            <div class="text-center mt-10">
                <button id="load-more-events" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-8 rounded-full transition-colors shadow-md">
                    LIHAT SEMUA ACARA
                </button>
            </div>
        </div>
    </section>

    <!-- Fitur Section -->
    <section id="fitur" class="py-16 px-6 bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">
                    Fitur Unggulan DARJO KU
                </h2>
                <span class="inline-block bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-semibold px-3 py-1 rounded-full">
                    ✨ FITUR LENGKAP
                </span>
            </div>
            
            <!-- Bento Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto">
                <!-- DARJOWISATA - Large Card -->
                <div class="md:col-span-2 md:row-span-2 bg-gradient-to-br from-blue-500 to-indigo-700 rounded-3xl p-6 text-white card-hover shine-effect">
                    <div class="relative h-full flex flex-col">
                        <div class="absolute top-0 right-0 w-24 h-24 -mt-4 -mr-4 bg-white/10 rounded-full"></div>
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-3">
                                <i class="fas fa-map-marked-alt text-xl"></i>
                            </div>
                            <h3 class="text-2xl font-black">DARJOWISATA</h3>
                        </div>
                        <p class="text-blue-100 mb-6 flex-grow">
                            Panduan lengkap destinasi wisata di Sidoarjo. Mulai dari tempat bersejarah, wisata alam, hingga tempat foto instagramable.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-6">
                            <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Peta Interaktif</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Rute Perjalanan</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Review Wisatawan</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Tiket & Harga</span>
                        </div>
                        <a href="#destinasi" class="bg-white text-blue-600 font-bold py-3 px-6 rounded-full self-start hover:bg-blue-50 transition-colors">
                            Jelajahi Sekarang
                        </a>
                    </div>
                </div>
                
                <!-- KULINERKU -->
                <div class="bg-gradient-to-br from-pink-500 to-rose-600 rounded-3xl p-6 text-white card-hover shine-effect">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center mr-3">
                            <i class="fas fa-utensils text-lg"></i>
                        </div>
                        <h3 class="text-xl font-black">KULINERKU</h3>
                    </div>
                    <p class="text-pink-100 mb-4">
                        Temukan kuliner khas Sidoarjo dengan rating terbaik dan lokasi terdekat.
                    </p>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-white/20 px-2 py-1 rounded-full text-xs">Makanan Khas</span>
                        <span class="bg-white/20 px-2 py-1 rounded-full text-xs">Tempat Makan</span>
                        <span class="bg-white/20 px-2 py-1 rounded-full text-xs">Resep Tradisional</span>
                    </div>
                </div>
                
                <!-- ACARAKU -->
                <div class="bg-gradient-to-br from-amber-500 to-orange-600 rounded-3xl p-6 text-white card-hover shine-effect">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center mr-3">
                            <i class="fas fa-calendar-alt text-lg"></i>
                        </div>
                        <h3 class="text-xl font-black">ACARAKU</h3>
                    </div>
                    <p class="text-amber-100">
                        Informasi event dan festival lokal di Sidoarjo. Jangan lewatkan acara seru!
                    </p>
                </div>
                
                <!-- PENGINAPAN -->
                <div class="bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl p-6 text-white card-hover shine-effect">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center mr-3">
                            <i class="fas fa-hotel text-lg"></i>
                        </div>
                        <h3 class="text-xl font-black">PENGINAPAN</h3>
                    </div>
                    <p class="text-indigo-100">
                        Temukan hotel, homestay, dan penginapan terbaik di Sidoarjo dengan harga terbaik.
                    </p>
                </div>
            </div>
            
            <!-- Additional Features -->
            <div class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-5xl mx-auto">
                <div class="text-center">
                    <div class="feature-icon bg-blue-100 text-blue-600 mx-auto">
                        <i class="fas fa-route text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-bold mb-2">Rute Perjalanan</h3>
                    <p class="text-gray-600 text-sm">Panduan rute terbaik menuju destinasi wisata</p>
                </div>
                
                <div class="text-center">
                    <div class="feature-icon bg-green-100 text-green-600 mx-auto">
                        <i class="fas fa-language text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-bold mb-2">Multi Bahasa</h3>
                    <p class="text-gray-600 text-sm">Tersedia dalam bahasa Indonesia dan Inggris</p>
                </div>
                
                <div class="text-center">
                    <div class="feature-icon bg-purple-100 text-purple-600 mx-auto">
                        <i class="fas fa-mobile-alt text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-bold mb-2">Aplikasi Mobile</h3>
                    <p class="text-gray-600 text-sm">Akses mudah melalui aplikasi smartphone</p>
                </div>
                
                <div class="text-center">
                    <div class="feature-icon bg-amber-100 text-amber-600 mx-auto">
                        <i class="fas fa-comments text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-bold mb-2">Forum Komunitas</h3>
                    <p class="text-gray-600 text-sm">Diskusi dan berbagi pengalaman dengan wisatawan lain</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Section -->
    <section id="tentang" class="py-16 px-6 bg-gray-900">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black text-white mb-4">
                    Mengapa Memilih <span class="text-blue-400">DARJO KU?</span>
                </h2>
                <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                    Platform wisata dan kuliner yang dibuat <span class="text-blue-400 font-semibold">khusus untuk Sidoarjo</span>, dengan fokus pada pengalaman lokal.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <!-- Card 1 -->
                <div class="bg-gray-800 border border-blue-500/30 rounded-2xl p-6 text-center card-hover">
                    <div class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bolt text-2xl text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-3">Informasi Terpercaya</h3>
                    <p class="text-gray-400">
                        Semua informasi destinasi dan kuliner diverifikasi langsung oleh tim lokal.
                    </p>
                </div>
                
                <!-- Card 2 -->
                <div class="bg-gray-800 border border-blue-500/30 rounded-2xl p-6 text-center card-hover">
                    <div class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-shield-alt text-2xl text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-3">Update Real-time</h3>
                    <p class="text-gray-400">
                        Informasi harga, jam operasional, dan ketersediaan selalu diperbarui.
                    </p>
                </div>
                
                <!-- Card 3 -->
                <div class="bg-gray-800 border border-blue-500/30 rounded-2xl p-6 text-center card-hover">
                    <div class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-users text-2xl text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-3">Komunitas Aktif</h3>
                    <p class="text-gray-400">
                        Ribuan wisatawan berbagi pengalaman dan rekomendasi terbaik.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 px-6 bg-gradient-to-r from-blue-600 to-indigo-700">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-black text-white mb-4">
                Jelajahi Sidoarjo dengan DARJO KU!
            </h2>
            <p class="text-xl text-blue-100 mb-8 max-w-2xl mx-auto">
                Temukan keindahan wisata dan kelezatan kuliner khas Sidoarjo dalam genggaman Anda.
            </p>
            <button class="bg-white text-blue-600 hover:bg-blue-50 font-bold py-4 px-10 rounded-full text-lg shadow-2xl transition-all transform hover:scale-105 mb-6">
                UNDUH APLIKASI
            </button>
            <p class="text-blue-200">
                Sudah <span class="font-bold">3,500+ wisatawan</span> yang menggunakan DARJO KU
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer id="kontak" class="py-12 px-6 bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Logo & About -->
                <div class="md:col-span-2">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="logo-glow">
                            <div class="logo-container">
                                <span class="text-white font-bold">DK</span>
                            </div>
                        </div>
                        <div class="text-2xl font-black">
                            <span>DARJO</span>
                            <span class="text-blue-400">KU</span>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Platform wisata dan kuliner Sidoarjo terpercaya. Temukan destinasi menarik dan makanan khas dengan informasi terupdate.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-whatsapp text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-bold mb-4">Tautan Cepat</h3>
                    <ul class="space-y-2">
                        <li><a href="#destinasi" class="text-gray-400 hover:text-white transition-colors">Destinasi Wisata</a></li>
                        <li><a href="#kuliner" class="text-gray-400 hover:text-white transition-colors">Kuliner Khas</a></li>
                        <li><a href="#acara" class="text-gray-400 hover:text-white transition-colors">Acara & Event</a></li>
                        <li><a href="#tentang" class="text-gray-400 hover:text-white transition-colors">Tentang Kami</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div>
                    <h3 class="text-lg font-bold mb-4">Kontak</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2"></i>
                            <a href="mailto:info@darjoku.id" class="hover:text-white">info@darjoku.id</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone mr-2"></i>
                            <a href="tel:+62312345678" class="hover:text-white">(031) 234-5678</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span>Jl. Raya Sidoarjo No.123</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-500">
                <p>© 2025 DARJO KU - Platform Wisata & Kuliner Sidoarjo. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Search Results Modal -->
    <div id="search-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 class="text-2xl font-bold mb-4">Hasil Pencarian</h2>
            <div id="modal-results">
                <!-- Results will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://swnmxpknfxcolfohexup.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3bm14cGtuZnhjb2xmb2hleHVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyOTc1NDEsImV4cCI6MjA3Njg3MzU0MX0.V0pZMXn-EXUZlKcilT-ZZXbIWLFCEfHDDik7qWUDeWk';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // Data untuk pencarian (fallback jika Supabase tidak tersedia)
        const fallbackData = {
            destinations: [
                {
                    id: 1,
                    name: "Candi Pari",
                    category: "wisata-sejarah",
                    description: "Candi peninggalan Majapahit di Kecamatan Porong",
                    rating: 4.5,
                    review_count: 320,
                    image_url: "https://images.unsplash.com/photo-1588666309990-d68f08e3d4a6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 2,
                    name: "Monumen Kecoa",
                    category: "wisata-sejarah",
                    description: "Ikon perlawanan warga terhadap lumpur Lapindo",
                    rating: 4.0,
                    review_count: 280,
                    image_url: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 3,
                    name: "Kampung Gading",
                    category: "wisata-keluarga",
                    description: "Desa wisata dengan berbagai spot foto menarik",
                    rating: 5.0,
                    review_count: 450,
                    image_url: "https://images.unsplash.com/photo-1545569341-9eb8b30979d9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                }
            ],
            foods: [
                {
                    id: 1,
                    name: "Kerupuk Udang",
                    description: "Kerupuk renyah dengan cita rasa udang khas Sidoarjo",
                    price: 15000,
                    rating: 4.5,
                    image_url: "https://images.unsplash.com/photo-1587336764378-776c6bc9f7e8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 2,
                    name: "Bandeng Asap",
                    description: "Ikan bandeng dengan proses pengasapan tradisional",
                    price: 45000,
                    rating: 4.0,
                    image_url: "https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 3,
                    name: "Otak-Otak Bandeng",
                    description: "Olahan bandeng tanpa duri dengan bumbu khas",
                    price: 35000,
                    rating: 5.0,
                    image_url: "https://images.unsplash.com/photo-1594212699904-3c2238c4d321?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 4,
                    name: "Kue Lapis Legit",
                    description: "Kue tradisional dengan tekstur berlapis dan rasa manis",
                    price: 60000,
                    rating: 4.5,
                    image_url: "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                }
            ],
            events: [
                {
                    id: 1,
                    name: "Festival Bandeng Sidoarjo",
                    description: "Festival tahunan menampilkan berbagai olahan bandeng khas Sidoarjo",
                    date: "2025-08-15",
                    location: "Alun-alun Sidoarjo",
                    image_url: "https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 2,
                    name: "Pameran UMKM Sidoarjo",
                    description: "Pameran produk unggulan UMKM dari seluruh Sidoarjo",
                    date: "2025-09-05",
                    location: "Gedung Serba Guna Sidoarjo",
                    image_url: "https://images.unsplash.com/photo-1551135042-1033a2c79cd3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                }
            ]
        };

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Load data from Supabase
        async function loadData() {
            try {
                // Load destinations
                const { data: destinations, error: destError } = await supabase
                    .from('destinations')
                    .select('*')
                    .order('created_at', { ascending: false })
                    .limit(6);
                
                if (!destError && destinations && destinations.length > 0) {
                    displayDestinations(destinations);
                    document.getElementById('total-destinations').textContent = destinations.length + '+';
                } else {
                    displayDestinations(fallbackData.destinations);
                    document.getElementById('total-destinations').textContent = fallbackData.destinations.length + '+';
                }
                
                // Load foods
                const { data: foods, error: foodError } = await supabase
                    .from('foods')
                    .select('*')
                    .order('created_at', { ascending: false })
                    .limit(8);
                
                if (!foodError && foods && foods.length > 0) {
                    displayFoods(foods);
                    document.getElementById('total-foods').textContent = foods.length + '+';
                } else {
                    displayFoods(fallbackData.foods);
                    document.getElementById('total-foods').textContent = fallbackData.foods.length + '+';
                }
                
                // Load events
                const { data: events, error: eventError } = await supabase
                    .from('events')
                    .select('*')
                    .order('event_date', { ascending: true })
                    .limit(3);
                
                if (!eventError && events && events.length > 0) {
                    displayEvents(events);
                    document.getElementById('total-events').textContent = events.length + '+';
                } else {
                    displayEvents(fallbackData.events);
                    document.getElementById('total-events').textContent = fallbackData.events.length + '+';
                }
                
            } catch (error) {
                console.error('Error loading data:', error);
                // Use fallback data
                displayDestinations(fallbackData.destinations);
                displayFoods(fallbackData.foods);
                displayEvents(fallbackData.events);
            }
        }

        // Display destinations
        function displayDestinations(destinations) {
            const container = document.getElementById('destinations-container');
            container.innerHTML = '';
            
            destinations.forEach(destination => {
                const card = document.createElement('div');
                card.className = 'destination-card card-hover';
                card.setAttribute('data-category', destination.category);
                card.style.backgroundImage = `url('${destination.image_url}')`;
                
                card.innerHTML = `
                    <div class="destination-overlay">
                        <h3 class="text-xl font-bold">${destination.name}</h3>
                        <p class="text-sm">${destination.description}</p>
                        <div class="flex items-center mt-2">
                            <div class="flex text-yellow-400">
                                ${generateStars(destination.rating)}
                            </div>
                            <span class="text-sm ml-2">${destination.rating} (${destination.review_count} ulasan)</span>
                        </div>
                    </div>
                `;
                
                // Add click event to navigate to detail page
                card.addEventListener('click', () => {
                    window.location.href = `detail_wisata.html?id=${destination.id}`;
                });
                
                container.appendChild(card);
            });
        }

        // Display foods
        function displayFoods(foods) {
            const container = document.getElementById('foods-container');
            container.innerHTML = '';
            
            foods.forEach(food => {
                const card = document.createElement('div');
                card.className = 'food-card card-hover';
                
                card.innerHTML = `
                    <div class="food-image" style="background-image: url('${food.image_url}')"></div>
                    <div class="p-4">
                        <h3 class="text-lg font-bold">${food.name}</h3>
                        <p class="text-gray-600 text-sm mb-2">${food.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-blue-600 font-bold">Rp ${food.price.toLocaleString()}</span>
                            <div class="flex text-yellow-400 text-sm">
                                ${generateStars(food.rating)}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        // Display events
        function displayEvents(events) {
            const container = document.getElementById('events-container');
            container.innerHTML = '';
            
            events.forEach(event => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-md overflow-hidden card-hover';
                
                const eventDate = new Date(event.event_date);
                const formattedDate = eventDate.toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                card.innerHTML = `
                    <div class="h-48 bg-cover bg-center" style="background-image: url('${event.image_url}')"></div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold mb-2">${event.name}</h3>
                        <p class="text-gray-600 mb-3">${event.description}</p>
                        <div class="flex items-center text-sm text-gray-500 mb-2">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span>${formattedDate}</span>
                        </div>
                        <div class="flex items-center text-sm text-gray-500">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span>${event.location}</span>
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        // Generate star ratings
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        // Search functionality
        async function performSearch(query) {
            if (!query) return [];
            
            const lowerQuery = query.toLowerCase();
            let results = [];
            
            try {
                // Search destinations
                const { data: destResults } = await supabase
                    .from('destinations')
                    .select('*')
                    .or(`name.ilike.%${query}%,description.ilike.%${query}%`)
                    .limit(5);
                
                if (destResults) {
                    results = results.concat(destResults.map(item => ({ ...item, type: 'destinasi' })));
                }
                
                // Search foods
                const { data: foodResults } = await supabase
                    .from('foods')
                    .select('*')
                    .or(`name.ilike.%${query}%,description.ilike.%${query}%`)
                    .limit(5);
                
                if (foodResults) {
                    results = results.concat(foodResults.map(item => ({ ...item, type: 'kuliner' })));
                }
                
                // Search events
                const { data: eventResults } = await supabase
                    .from('events')
                    .select('*')
                    .or(`name.ilike.%${query}%,description.ilike.%${query}%`)
                    .limit(5);
                
                if (eventResults) {
                    results = results.concat(eventResults.map(item => ({ ...item, type: 'acara' })));
                }
                
            } catch (error) {
                console.error('Error searching:', error);
                // Fallback to client-side search with fallback data
                const allData = [
                    ...fallbackData.destinations.map(item => ({ ...item, type: 'destinasi' })),
                    ...fallbackData.foods.map(item => ({ ...item, type: 'kuliner' })),
                    ...fallbackData.events.map(item => ({ ...item, type: 'acara' }))
                ];
                
                results = allData.filter(item => 
                    item.name.toLowerCase().includes(lowerQuery) || 
                    item.description.toLowerCase().includes(lowerQuery)
                ).slice(0, 10);
            }
            
            return results;
        }

        // Display search results
        function displaySearchResults(results, container) {
            container.innerHTML = '';
            
            if (results.length === 0) {
                container.innerHTML = '<p class="p-4 text-center text-gray-500">Tidak ada hasil ditemukan</p>';
                return;
            }
            
            results.forEach(item => {
                const resultItem = document.createElement('div');
                resultItem.className = `search-result-item search-result-${item.type}`;
                
                let iconClass = '';
                if (item.type === 'destinasi') iconClass = 'fas fa-map-marker-alt';
                else if (item.type === 'kuliner') iconClass = 'fas fa-utensils';
                else if (item.type === 'acara') iconClass = 'fas fa-calendar-alt';
                
                resultItem.innerHTML = `
                    <div class="search-result-icon">
                        <i class="${iconClass}"></i>
                    </div>
                    <div>
                        <h4 class="font-bold">${item.name}</h4>
                        <p class="text-sm text-gray-600">${item.description}</p>
                        ${item.rating ? `<div class="flex items-center mt-1">
                            <div class="flex text-yellow-400 text-xs">
                                ${generateStars(item.rating)}
                            </div>
                            <span class="text-xs text-gray-500 ml-1">${item.rating} ${item.review_count ? `(${item.review_count} ulasan)` : ''}</span>
                        </div>` : ''}
                    </div>
                `;
                
                resultItem.addEventListener('click', () => {
                    if (item.type === 'destinasi') {
                        window.location.href = `detail_wisata.html?id=${item.id}`;
                    } else {
                        showItemDetails(item);
                    }
                });
                
                container.appendChild(resultItem);
            });
        }

        // Show item details in modal
        function showItemDetails(item) {
            const modal = document.getElementById('search-modal');
            const modalResults = document.getElementById('modal-results');
            
            let detailsHTML = `
                <div class="bg-white rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('${item.image_url}')"></div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold mb-2">${item.name}</h3>
                        <p class="text-gray-600 mb-4">${item.description}</p>
            `;
            
            if (item.type === 'destinasi') {
                detailsHTML += `
                    <div class="flex items-center mb-2">
                        <div class="flex text-yellow-400">
                            ${generateStars(item.rating)}
                        </div>
                        <span class="ml-2 text-gray-600">${item.rating} (${item.review_count} ulasan)</span>
                    </div>
                `;
            } else if (item.type === 'kuliner') {
                detailsHTML += `
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-blue-600 font-bold">Rp ${item.price.toLocaleString()}</span>
                        <div class="flex text-yellow-400">
                            ${generateStars(item.rating)}
                        </div>
                    </div>
                `;
            } else if (item.type === 'acara') {
                const eventDate = new Date(item.event_date);
                const formattedDate = eventDate.toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                detailsHTML += `
                    <div class="mb-2">
                        <p><strong>Tanggal:</strong> ${formattedDate}</p>
                        <p><strong>Lokasi:</strong> ${item.location}</p>
                    </div>
                `;
            }
            
            detailsHTML += `
                        <button class="mt-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full transition-colors" onclick="closeModal()">
                            Tutup
                        </button>
                    </div>
                </div>
            `;
            
            modalResults.innerHTML = detailsHTML;
            modal.style.display = 'flex';
        }

        // Close modal function
        function closeModal() {
            const modal = document.getElementById('search-modal');
            modal.style.display = 'none';
        }

        // Search event listeners
        const searchInputs = [
            document.getElementById('hero-search-input'),
            document.getElementById('search-input'),
            document.getElementById('mobile-search-input')
        ];
        
        const searchResults = document.getElementById('search-results');
        
        searchInputs.forEach(input => {
            if (input) {
                input.addEventListener('input', function() {
                    const query = this.value;
                    if (query.length > 2) {
                        performSearch(query).then(results => {
                            displaySearchResults(results, searchResults);
                            searchResults.style.display = 'block';
                        });
                    } else {
                        searchResults.style.display = 'none';
                    }
                });
                
                input.addEventListener('focus', function() {
                    const query = this.value;
                    if (query.length > 2) {
                        performSearch(query).then(results => {
                            displaySearchResults(results, searchResults);
                            searchResults.style.display = 'block';
                        });
                    }
                });
            }
        });

        // Close search results when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.search-container') && !e.target.closest('.search-results')) {
                searchResults.style.display = 'none';
            }
        });

        // Modal close functionality
        const modal = document.getElementById('search-modal');
        const modalClose = document.querySelector('.modal-close');
        
        modalClose.addEventListener('click', closeModal);
        
        window.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Filter functionality for destinations
        const filterButtons = document.querySelectorAll('.filter-btn');
        
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                const destinationCards = document.querySelectorAll('.destination-card');
                
                destinationCards.forEach(card => {
                    if (filter === 'all' || card.getAttribute('data-category') === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Load more functionality
        document.getElementById('load-more-destinations').addEventListener('click', function() {
            window.location.href = '#destinasi';
        });

        document.getElementById('load-more-foods').addEventListener('click', function() {
            window.location.href = '#kuliner';
        });

        document.getElementById('load-more-events').addEventListener('click', function() {
            window.location.href = '#acara';
        });

        // Slide-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('slide-in');
                }
            });
        }, observerOptions);
        
        // Observe elements for slide-in animation
        document.querySelectorAll('.slide-in').forEach(el => {
            observer.observe(el);
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
        });
    </script>
</body>
</html>